---
// ContactSection.astro
---

<section id="contacto" class="contact-section">
  <div class="container">
    <header>
      <div class="word">
        <span>C</span>
        <span>O</span>
        <span>N</span>
        <span>T</span>
        <span>Á</span>
        <span>C</span>
        <span>T</span>
        <span>A</span>
        <span>M</span>
        <span>E</span>
      </div>
      <p>¿Tienes un proyecto en mente? ¡Hablemos!</p>
      <div class="section-divider">
        <span></span>
        <i class="fas fa-handshake"></i>
        <span></span>
      </div>
    </header>

    <div class="contact-content">
      <!-- Contenedor principal con información y formulario -->
      <div class="main-contact-container">
        <!-- Sección Conectemos -->
        <div class="contact-info-card">
          <h3>CONECTEMOS</h3>
          
          <div class="contact-item">
            <div class="icon-container">
              <i class="fas fa-envelope" aria-hidden="true"></i>
            </div>
            <div class="contact-details">
              <span class="label">Email</span>
              <a href="https://mail.google.com/mail/u/0/#inbox?compose=GTvVlcSBpRhNpTfnQZJrdglZmtrmcMCBTdZFfTxgzLMQrttrMBNrLkxZCGzlXVrZmZNFshGvTHTsz"
                target="_blank" rel="noopener noreferrer"
                aria-label="Enviar email a sbarbosarivas@gmail.com">sbarbosarivas@gmail.com</a>
            </div>
          </div>

          <div class="contact-item">
            <div class="icon-container whatsapp">
              <i class="fab fa-whatsapp" aria-hidden="true"></i>
            </div>
            <div class="contact-details">
              <span class="label">WhatsApp</span>
              <a href="https://wa.me/573217696864" target="_blank" rel="noopener noreferrer"
                aria-label="Contactar por WhatsApp al +57 321 769 6864">+57 321 769 6864</a>
            </div>
          </div>

          <div class="contact-item">
            <div class="icon-container">
              <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
            </div>
            <div class="contact-details">
              <span class="label">Ubicación</span>
              <span>Neiva, Colombia</span>
            </div>
          </div>

          <div class="availability">
            <div class="status-indicator online" aria-hidden="true"></div>
            <span>Disponible para nuevos proyectos</span>
          </div>
        </div>

        <!-- Formulario de contacto -->
        <div class="form-card">
          <h3>Envíame un mensaje</h3>
          <form id="form" class="contact-form" method="POST">
            <div class="form-group">
              <label for="name" class="form-label">
                <i class="fas fa-user" aria-hidden="true"></i>
                Nombre
              </label>
              <input 
                type="text" 
                id="name" 
                name="from_name"
                placeholder="Tu nombre" 
                class="form-input"
                required
              >
            </div>

            <div class="form-group">
              <label for="email" class="form-label">
                <i class="fas fa-envelope" aria-hidden="true"></i>
                Correo Electrónico
              </label>
              <input 
                type="email" 
                id="email" 
                name="reply_to"
                placeholder="tuemail@ejemplo.com" 
                class="form-input"
                required
              >
            </div>

            <div class="form-group">
              <label for="message" class="form-label">
                <i class="fas fa-comment" aria-hidden="true"></i>
                Mensaje
              </label>
              <textarea 
                id="message" 
                name="message" 
                placeholder="Escribe tu mensaje aquí..." 
                class="form-textarea"
                rows="6"
                required
              ></textarea>
            </div>

            <!-- Campos auxiliares -->
            <input type="hidden" id="title" name="title" value="Nuevo mensaje desde el portafolio" />
            <input type="hidden" id="email_id" name="email_id" value="contact-form" />
            <!-- Fuerza que el destinatario siempre seas tú -->
            <input type="hidden" id="to_email" name="to_email" value="sbarbosarivas@gmail.com" />

            <input type="submit" id="button" value="Enviar Mensaje" class="form-submit" />
          </form>
        </div>
      </div>

      <!-- Mapa de Google Maps al lado -->
      <div class="contact-map-container">
        <div class="map-header">
        </div>
        <div class="contact-map">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15916.153614218496!2d-75.2962412!3d2.9272369!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3b7443e8c17c9f%3A0x7e7b2c0b7e8e7b8!2sNeiva%2C%20Huila%2C%20Colombia!5e0!3m2!1sen!2sus!4v1697654321098!5m2!1sen!2sus"
            style="border:0; border-radius: 12px; filter: invert(90%) hue-rotate(180deg) brightness(1.2) contrast(1.1);"
            allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
            title="Ubicación de Santiago Barbosa en Neiva, Colombia">
          </iframe>
        </div>
        <div class="map-overlay">
          <div class="location-pin">
            <i class="fas fa-location-dot" aria-hidden="true"></i>
            <span>Explora mi ciudad</span>
          </div>
        </div>
      </div>
    </div>

    <div class="contact-cta">
      <a href="https://mail.google.com/mail/u/0/#inbox?compose=GTvVlcSBpRhNpTfnQZJrdglZmtrmcMCBTdZFfTxgzLMQrttrMBNrLkxZCGzlXVrZmZNFshGvTHTsz"
        target="_blank" class="btn btn-primary" aria-label="Enviar email a sbarbosarivas@gmail.com">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
            <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"/>
          </svg> Directamente por correo
      </a>
      <a href="https://wa.me/573217696864" target="_blank" rel="noopener noreferrer"
        class="btn btn-secondary whatsapp" aria-label="Contactar por WhatsApp al +57 321 769 6864">
        <i class="fab fa-whatsapp" aria-hidden="true"></i>
        Contactar por WhatsApp
      </a>
    </div>
  </div>
</section>
